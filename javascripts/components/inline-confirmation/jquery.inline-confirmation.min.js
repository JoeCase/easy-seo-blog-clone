(function(a){a.fn.inlineConfirmation=function(j){var e={text:"",confirm:"<a href='#'>Confirm</a>",cancel:"<a href='#'>Cancel</a>",separator:" ",reverse:false,hideOriginalAction:true,bindsOnEvent:"click",expiresIn:0,confirmCallback:function(){return true},cancelCallback:function(){return true}};var g;var h;var k=a(this);var j=a.extend(e,j);var f="inline-confirmation-block";var i="inline-confirmation-confirm";var c="inline-confirmation-cancel";var b="inline-confirmation-action";j.confirm="<span class='"+b+" "+i+"'>"+j.confirm+"</span>";j.cancel="<span class='"+b+" "+c+"'>"+j.cancel+"</span>";var d=j.reverse===false?j.confirm+j.separator+j.cancel:j.cancel+j.separator+j.confirm;a(this).on(j.bindsOnEvent,function(l){g=a(this);k.show();a("span."+f).hide();if(j.hideOriginalAction===true){a(this).trigger("update").hide()}var m=a("span."+f,a(this).parent());if(m.length>0){m.show()}else{a(this).after("<span class='"+f+"'>"+j.text+d+"</span>")}if(j.expiresIn>0){h=setTimeout(function(){a("span."+f,g.parent()).hide();g.show()},j.expiresIn*1000)}l.preventDefault()});a(this).parent().delegate("span."+b,"click",function(){clearTimeout(h);a(this).parent().hide();g.show();var l=new Array();l[0]=g;if(a(this).hasClass(i)){j.confirmCallback.apply(this,l)}else{j.cancelCallback.apply(this,l)}return false})}})(jQuery);