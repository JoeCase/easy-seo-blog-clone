function Settings(){this.baseUrl=window.document.url}Settings.prototype={init:function(){var a=$("form input:radio").filter(":checked").parents(".option");a.addClass("checked").siblings().removeClass("checked");a.find(".layout_slider").slider("enable");a.siblings().find(".layout_slider").slider("disable");$("body").delegate("form *[type=submit]","click",function(){$("*[type=submit]",$(this).parents("form")).removeAttr("clicked");$(this).attr("clicked","true")});return this},baseUrl:null,submitForm:function(b,a){if(typeof(b)=="undefined"){b=$("#options_form")}b.loader("show");var c=b.find("*[type=submit][clicked=true]");var d=b.serialize()+"&"+c.attr("name")+"="+c.val()+"&ajax=true";b.find("input[disabled]").each(function(){d=d+"&"+$(this).attr("name")+"="+$(this).val()});this.ajaxSubmit(d,"POST",b.attr("action"),function(e){b.loader("hide");if(typeof(a)=="function"){a(e)}b.trigger("saved");Wix.Settings.refreshApp()});return false},ajaxSubmit:function(c,d,b,a){$.ajax({url:b,type:d,dataType:"json",data:c,success:a});return this},configureColorPicker:function(b,a){var b=$(b);$(b).each(function(){var c=$('<span class="color-selector-wrap"><a rel="popover" class="color-selector default"></a></span>');$(this).before(c).addClass("hidden");var d=$.extend({startWithColor:$(this).val()},a);c.children().ColorPicker(d).on("colorChanged",function(e,f){$(this).parent().next().val(f.selected_color).change()})});return this},disableColorPicker:function(b,a){var b=$(b);$(b).each(function(){$(this).prev().find(".color-selector").ColorPicker("enabled",false)});return this},switchBoxes:function(){$(this).addClass("opened").children(".style_settings_list").slideDown("slow");$(this).siblings().removeClass("opened").children(".style_settings_list").slideUp("slow");return this},configureSlider:function(a,b,c){if(c==null||c==undefined){c={range:"min",min:1,max:6}}c.value=b.val();c.slide=function(d,e){$(b).val(e.value)};c.stop=function(){$(b).parents("form").submit()};$(b).attr("disabled","disabled");$(a).width(80).slider(c);return this},configureOpacitySlider:function(a,b,c){if(c==null||c==undefined){c={range:"min"}}c.min=0;c.max=1;c.step=0.1;return this.configureSlider(a,b,c)},bindCheckboxWithSlider:function(c,b){c=$(c);b=$(b);$(c).on("change",function(){a(c,b)});a(c,b);function a(f,e){var d=f.is(":checked");if(d===true){e.slider("enable")}else{e.slider("disable")}}},switchLayouts:function(){var a=$(this).parents(".option");a.addClass("checked").siblings().removeClass("checked");a.find(".layout_slider").slider("enable");a.siblings().find(".layout_slider").slider("disable");return this}};